<h2 class="display-2">Cadastre um livro: </h2>
<hr>
<form class="form" #form="ngForm" (ngSubmit)="onSubmit(form)">
    <div class="form-group mb-3">
        <label class="form-label" for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" class="form-control" [(ngModel)]="livro.nome" required #nome="ngModel" >
        <div class="text-danger" *ngIf="nome.invalid && (nome.dirty || nome.touched)">
            <div *ngIf="nome.errors?.['required']"><small><b>*</b> Nome é obrigatório.</small></div>
        </div>
    </div>
    <div class="form-group mb-3">
        <label class="form-label" for="autor">Autor:</label>
        <input type="text" id="autor" name="autor" class="form-control" [(ngModel)]="livro.autor" #autor="ngModel" required>
        <div class="text-danger" *ngIf="autor.invalid && (autor.dirty || autor.touched)">
            <div *ngIf="autor.errors?.['required']"><small><b>*</b> Autor é obrigatório.</small></div>
        </div>
    </div>
    <div class="form-group mb-3">
        <label class="form-label" for="ano">Ano:</label>
        <input type="number" id="ano" name="ano" class="form-control" [(ngModel)]="livro.ano" required #ano="ngModel"  min="1">
        <div class="text-danger" *ngIf="ano.invalid && (ano.dirty || ano.touched)">
            <div *ngIf="ano.errors?.['required']"><small><b>*</b> Ano é obrigatório.</small></div>
            <div *ngIf="ano.errors?.['min']"><small><b>*</b> Ano não pode ser nulo ou negativo.</small></div>
        </div>
    </div>
    <div class="form-group mb-3">
        <label class="form-label" for="estoque">Estoque:</label>
        <input type="number" id="estoque" name="estoque" class="form-control" [(ngModel)]="livro.estoque" required #estoque="ngModel" min="0">
        <div class="text-danger" *ngIf="estoque.invalid && (estoque.dirty || estoque.touched)">
            <div *ngIf="estoque.errors?.['required']"><small><b>*</b> Estoque é obrigatório.</small></div>
            <div *ngIf="estoque.errors?.['min']"><small><b>*</b> Estoque não pode ser nulo ou negativo.</small></div>
        </div>
    </div>
    <div>
        <input class="btn btn-success mt-3" type="submit" value="Cadastrar" [disabled]="!form.valid">
        <button class="btn btn-success mt-3" type="button" (click)="goBack()">Voltar</button>
    </div>
</form>
<div *ngIf="createdLivro">
    Livro {{createdLivro.nome}} cadastrado com sucesso!
</div>